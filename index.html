<script>
const RUNES = [
  {sym:'ᚠ',name:'Fehu',sound:'F',keywords:'財富',desc:'物質與能量的流入。'},
  {sym:'ᚢ',name:'Uruz',sound:'U',keywords:'力量',desc:'原始力量與勇氣。'},
  // ... 其他符文
];

const BG_LIST = [
  'assets/bg/img_0058.jpeg',
  'assets/bg/img_0059.jpeg',
  'assets/bg/img_0060.jpeg',
  'assets/bg/img_0061.jpeg'
];

function pickRune(seed, count=1){
  const res = [];
  for(let i=0;i<count;i++){
    const idx = Math.floor(Math.random()*RUNES.length);
    res.push(RUNES[idx]);
  }
  return res;
}

function randomBg(){
  const idx = Math.floor(Math.random()*BG_LIST.length);
  return BG_LIST[idx];
}

function renderRune(runes){
  const grid = document.getElementById('grid');
  grid.innerHTML = '';
  const bg = randomBg();
  runes.forEach((r,i)=>{
    const div = document.createElement('div');
    div.className = 'card';
    div.style.backgroundImage = `url('${bg}')`;
    div.style.backgroundSize = 'cover';
    div.style.backgroundPosition = 'center';
    div.innerHTML = `
      <div class="title">${r.name}（${r.sound}）</div>
      <div class="rune">${r.sym}</div>
      <div class="kw">${r.keywords}</div>
      <div class="desc">${r.desc}</div>
    `;
    grid.appendChild(div);
  });
}

// 今日運勢
document.getElementById('dailyBtn').addEventListener('click',()=>{
  renderRune(pickRune('daily',1));
});

// 隨機一張
document.getElementById('randomBtn').addEventListener('click',()=>{
  renderRune(pickRune('random',1));
});

// 問問題
document.getElementById('askBtn').addEventListener('click',()=>{
  const question = prompt('請輸入問題');
  if(!question) return;
  const count = prompt('抽幾張？輸入1或3', '1');
  const num = (count==='3')?3:1;
  renderRune(pickRune(question,num));
});
</script>
